<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "UTF-8">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
  <title> Event Applications </title>
</head>
<body>
    <header>
      <h1>Event Application Form</h1>
    </header>
    <form id="form2" method="POST">
      <fieldset>
        <h3>Add new Event</h3>
        <label>Event Name</label>
        <input type ="text" id = 'eventName' name="eventName" required>
        <br><br>
        <label>Venue</label>
        <input type="text" id = "venue" name="venue" required>
        <br><br>
        <label>Date</label>
        <input type="date" id = "date" name="date" required>
        <br><br>
        <button type ="reset">Reset</button>
        <button type ="submit">Submit</button>
      </fieldset>
    </form>
    <div class="msg">
        <span id="check"></span>
    </div>
    </body>
    <script type="text/javascript">
      $(document).ready(function(){
  
          $( "#form2" ).submit(function(event) {
              event.preventDefault();
  
              $.ajax({
                  type: 'POST',
                  url: '/propose',
                  data: $('#form2').serialize(),
                  dataType: "json",
                  success: function(response){
                      //alert("a");
                      //console.log(response.Success);
                      $('#form2')[0].reset();
  
                      document.getElementById("check").innerHTML;
                           //ADD THIS CODE
                           setTimeout(function(){
                               document.getElementById("check").innerHTML="";
                           },3000);
                           if (response.status=="success") {
                            document.getElementById("check").innerText = response.message;
                            alert(response.message)
                            location.href = "/home"
                           };
                       },
                       error: function() {
                       }
                   })
          });
  
      });
  </script>

  <style>
.button {
  align-items: center;
  background-color: #fee6e3;
  border: 2px solid #111;
  border-radius: 8px;
  box-sizing: border-box;
  color: #111;
  cursor: pointer;
  display: flex;
  font-family: Inter,sans-serif;
  font-size: 16px;
  height: 48px;
  justify-content: center;
  line-height: 24px;
  max-width: 100%;
  padding: 0 25px;
  position: relative;
  text-align: center;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

.button:after {
  background-color: #111;
  border-radius: 8px;
  content: "";
  display: block;
  height: 48px;
  left: 0;
  width: 100%;
  position: absolute;
  top: -2px;
  transform: translate(8px, 8px);
  transition: transform .2s ease-out;
  z-index: -1;
}

.button:hover:after {
  transform: translate(0, 0);
}

.button:active {
  background-color: #ffdeda;
  outline: 0;
}

.button:hover {
  outline: 0;
}

@media (min-width: 768px) {
  .button {
    padding: 0 40px;
  }
}


  </style>
  </html>