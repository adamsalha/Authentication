<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "UTF-8">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
  <title> Event Applications </title>
</head>
<body>
    <header class="bg-color">
      <h1>Event Application Form</h1>
    </header>
    <form id="form2" method="POST">
      <fieldset>
        <h3>Add new Event</h3>
        <label>Event Name</label>
        <input type ="text" id = 'eventName' name="eventName" required>
        <br><br>
        <label>Venue</label>
        <input type="text" id = "venue" name="venue" required>
        <br><br>
        <label>Date</label>
        <input type="date" id = "date" name="date" required>
        <br><br>
        <button class="btn" type ="reset">Reset</button>
        <button class="btn" type ="submit">Submit</button>
      </fieldset>
    </form>
    <div class="msg">
        <span id="check"></span>
    </div>
    </body>
    <script type="text/javascript">
      $(document).ready(function(){
  
          $( "#form2" ).submit(function(event) {
              event.preventDefault();
  
              $.ajax({
                  type: 'POST',
                  url: '/propose',
                  data: $('#form2').serialize(),
                  dataType: "json",
                  success: function(response){
                      //alert("a");
                      //console.log(response.Success);
                      $('#form2')[0].reset();
  
                      document.getElementById("check").innerHTML;
                           //ADD THIS CODE
                           setTimeout(function(){
                               document.getElementById("check").innerHTML="";
                           },3000);
                           if (response.status=="success") {
                            document.getElementById("check").innerText = response.message;
                            alert(response.message)
                            location.href = "/home"
                           };
                       },
                       error: function() {
                       }
                   })
          });
  
      });
  </script>
<style>
  .bg-color{
    background-color: aquamarine;
  }

  .btn {
 
  background-color: initial;
  background-image: linear-gradient(-180deg, #ea17e7, #a72676);
  border-radius: 5px;
  box-shadow: rgba(0, 0, 0, 0.1) 0 2px 4px;
  color: #FFFFFF;
  cursor: pointer;
  display: inline-block;
  font-family: Inter,-apple-system,system-ui,Roboto,"Helvetica Neue",Arial,sans-serif;
  height: 30% ;
  line-height: 44px;
  outline: 0;
  overflow: hidden;
  padding: 0 20px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 50%;
  z-index: 9;
  border: 0;
  margin-bottom: 10px;
}

.btn:hover {
  background: #00bd68;
}
  
</style>
  </html>